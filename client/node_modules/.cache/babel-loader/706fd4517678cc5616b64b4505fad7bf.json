{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Computer-science\\\\MyProject\\\\Entry_React_Developer_Test_Ivanov_Roman\\\\client\\\\src\\\\components\\\\Currencies\\\\index.js\";\nimport React from \"react\";\nimport styles from \"./Currencies.module.css\";\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, onSelectCurrencies } from \"../../redux/currencies/slice\";\nimport { actionsRef } from \"../Actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const currenciesRef = /*#__PURE__*/React.createRef();\n\nclass Currencies extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n\n    this.handleClickOutside = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (currenciesRef.current && !currenciesRef.current.contains(target) && actionsRef.current && !actionsRef.current.contains(target)) {\n        this.props.onOpenPopup();\n      }\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  render() {\n    const {\n      currencies,\n      activeCurrency,\n      onSelectCurrencies\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: styles.blockCurrencies,\n        ref: currenciesRef,\n        children: currencies === null || currencies === void 0 ? void 0 : currencies.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => onSelectCurrencies(index),\n          className: `${styles.currenciesItem}  \n                 ${activeCurrency === index ? styles.active : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.symbol,\n            children: item.currency.symbol\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: item.currency.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this)]\n        }, `${item} ${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  activeCurrency: state.currencies.activeCurrency,\n  currencies: state.currencies.currencies\n});\n\nconst mapDispatchToProps = {\n  onSelectCurrencies,\n  onOpenPopup\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Currencies);","map":{"version":3,"names":["React","styles","connect","onOpenPopup","onSelectCurrencies","actionsRef","currenciesRef","createRef","Currencies","PureComponent","handleClickOutside","target","current","contains","props","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","currencies","activeCurrency","blockCurrencies","map","item","index","currenciesItem","active","symbol","currency","label","mapStateToProps","state","mapDispatchToProps"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/components/Currencies/index.js"],"sourcesContent":["import React from \"react\";\nimport styles from \"./Currencies.module.css\";\n\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, onSelectCurrencies } from \"../../redux/currencies/slice\";\nimport { actionsRef } from \"../Actions\";\n\nexport const currenciesRef = React.createRef();\n\nclass Currencies extends React.PureComponent {\n  handleClickOutside = ({ target }) => {\n    if (\n      currenciesRef.current &&\n      !currenciesRef.current.contains(target) &&\n      actionsRef.current &&\n      !actionsRef.current.contains(target)\n    ) {\n      this.props.onOpenPopup();\n    }\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n  render() {\n    const { currencies, activeCurrency, onSelectCurrencies } = this.props;\n\n    return (\n      <div>\n        <ul className={styles.blockCurrencies} ref={currenciesRef}>\n          {currencies?.map((item, index) => (\n            <li\n              key={`${item} ${index}`}\n              onClick={() => onSelectCurrencies(index)}\n              className={`${styles.currenciesItem}  \n                 ${activeCurrency === index ? styles.active : \"\"}`}\n            >\n              <div className={styles.symbol}>{item.currency.symbol}</div>\n              <div>{item.currency.label}</div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  activeCurrency: state.currencies.activeCurrency,\n  currencies: state.currencies.currencies,\n});\n\nconst mapDispatchToProps = { onSelectCurrencies, onOpenPopup };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Currencies);\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,8BAAhD;AACA,SAASC,UAAT,QAA2B,YAA3B;;AAEA,OAAO,MAAMC,aAAa,gBAAGN,KAAK,CAACO,SAAN,EAAtB;;AAEP,MAAMC,UAAN,SAAyBR,KAAK,CAACS,aAA/B,CAA6C;EAAA;IAAA;;IAAA,KAC3CC,kBAD2C,GACtB,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;;MACnC,IACEL,aAAa,CAACM,OAAd,IACA,CAACN,aAAa,CAACM,OAAd,CAAsBC,QAAtB,CAA+BF,MAA/B,CADD,IAEAN,UAAU,CAACO,OAFX,IAGA,CAACP,UAAU,CAACO,OAAX,CAAmBC,QAAnB,CAA4BF,MAA5B,CAJH,EAKE;QACA,KAAKG,KAAL,CAAWX,WAAX;MACD;IACF,CAV0C;EAAA;;EAY3CY,iBAAiB,GAAG;IAClBC,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKP,kBAA5C;EACD;;EAEDQ,oBAAoB,GAAG;IACrBF,QAAQ,CAACG,mBAAT,CAA6B,WAA7B,EAA0C,KAAKT,kBAA/C;EACD;;EACDU,MAAM,GAAG;IACP,MAAM;MAAEC,UAAF;MAAcC,cAAd;MAA8BlB;IAA9B,IAAqD,KAAKU,KAAhE;IAEA,oBACE;MAAA,uBACE;QAAI,SAAS,EAAEb,MAAM,CAACsB,eAAtB;QAAuC,GAAG,EAAEjB,aAA5C;QAAA,UACGe,UADH,aACGA,UADH,uBACGA,UAAU,CAAEG,GAAZ,CAAgB,CAACC,IAAD,EAAOC,KAAP,kBACf;UAEE,OAAO,EAAE,MAAMtB,kBAAkB,CAACsB,KAAD,CAFnC;UAGE,SAAS,EAAG,GAAEzB,MAAM,CAAC0B,cAAe;AAClD,mBAAmBL,cAAc,KAAKI,KAAnB,GAA2BzB,MAAM,CAAC2B,MAAlC,GAA2C,EAAG,EAJrD;UAAA,wBAME;YAAK,SAAS,EAAE3B,MAAM,CAAC4B,MAAvB;YAAA,UAAgCJ,IAAI,CAACK,QAAL,CAAcD;UAA9C;YAAA;YAAA;YAAA;UAAA,QANF,eAOE;YAAA,UAAMJ,IAAI,CAACK,QAAL,CAAcC;UAApB;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA,GACQ,GAAEN,IAAK,IAAGC,KAAM,EADxB;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAiBD;;AAvC0C;;AA0C7C,MAAMM,eAAe,GAAIC,KAAD,KAAY;EAClCX,cAAc,EAAEW,KAAK,CAACZ,UAAN,CAAiBC,cADC;EAElCD,UAAU,EAAEY,KAAK,CAACZ,UAAN,CAAiBA;AAFK,CAAZ,CAAxB;;AAKA,MAAMa,kBAAkB,GAAG;EAAE9B,kBAAF;EAAsBD;AAAtB,CAA3B;AAEA,eAAeD,OAAO,CAAC8B,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C1B,UAA7C,CAAf"},"metadata":{},"sourceType":"module"}