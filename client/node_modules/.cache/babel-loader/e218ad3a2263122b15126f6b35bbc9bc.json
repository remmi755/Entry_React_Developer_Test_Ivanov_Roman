{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Computer-science\\\\MyProject\\\\Entry_React_Developer_Test_Ivanov_Roman\\\\client\\\\src\\\\components\\\\Actions\\\\index.jsx\";\nimport React from \"react\";\nimport { ReactComponent as VectorDown } from \"../../assets/SVG/VectorCurrency.svg\";\nimport { ReactComponent as VectorUp } from \"../../assets/SVG/VectorUp.svg\";\nimport { ReactComponent as CartQuantity } from \"../../assets/SVG/cartQuantity.svg\";\nimport styles from \"./Actions.module.css\";\nimport { ReactComponent as HeaderBasket } from \"../../assets/SVG/headerBasket.svg\";\nimport Currencies from \"../Currencies\";\nimport { AppContext } from \"../AppContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Actions extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleClickOutside = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (this.ref.current && !this.ref.current.contains(target)) {\n        this.props.onOpenPopup();\n        this.setState({\n          openPopup: false\n        });\n      }\n    };\n\n    this.ref = /*#__PURE__*/React.createRef(null);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  render() {\n    const {\n      currencies,\n      activeCurrency,\n      openPopup,\n      onSelectCurrencies,\n      onOpenPopup,\n      toggleModal,\n      totalCount\n    } = this.context;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.popupClosed,\n        onClick: onOpenPopup,\n        children: [activeCurrency ? currencies[activeCurrency].currency.symbol : \"$\", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: openPopup ? /*#__PURE__*/_jsxDEV(VectorUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 30\n          }, this) : /*#__PURE__*/_jsxDEV(VectorDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.separator\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), openPopup && /*#__PURE__*/_jsxDEV(Currencies, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) // <div>\n      //   <ul className={styles.blockCurrencies} ref={this.ref}>\n      //     {currencies?.map((item, index) => (\n      //       <li\n      //         key={`${item} ${index}`}\n      //         onClick={(e) => onSelectCurrencies(index, e)}\n      //         className={`${styles.actionsItem}\n      //                                   ${\n      //           activeCurrency === index\n      //             ? styles.active\n      //             : \"\"\n      //         }`}\n      //       >\n      //         <div>{item.currency.symbol}</div>\n      //         <div>{item.currency.label}</div>\n      //       </li>\n      //     ))}\n      //   </ul>\n      // </div>\n      , /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cart,\n        onClick: toggleModal,\n        children: /*#__PURE__*/_jsxDEV(HeaderBasket, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), totalCount ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cartQuantity,\n        children: /*#__PURE__*/_jsxDEV(CartQuantity, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : \"\", totalCount ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.quantity,\n        style: totalCount > 9 ? {\n          left: 54.5\n        } : {\n          left: 59\n        },\n        children: totalCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nActions.contextType = AppContext;\nexport default Actions;","map":{"version":3,"names":["React","ReactComponent","VectorDown","VectorUp","CartQuantity","styles","HeaderBasket","Currencies","AppContext","Actions","PureComponent","constructor","props","handleClickOutside","target","ref","current","contains","onOpenPopup","setState","openPopup","createRef","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","currencies","activeCurrency","onSelectCurrencies","toggleModal","totalCount","context","actions","popupClosed","currency","symbol","separator","cart","cartQuantity","quantity","left","contextType"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/components/Actions/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { ReactComponent as VectorDown } from \"../../assets/SVG/VectorCurrency.svg\";\nimport { ReactComponent as VectorUp } from \"../../assets/SVG/VectorUp.svg\";\nimport { ReactComponent as CartQuantity } from \"../../assets/SVG/cartQuantity.svg\";\nimport styles from \"./Actions.module.css\";\nimport { ReactComponent as HeaderBasket } from \"../../assets/SVG/headerBasket.svg\";\nimport Currencies from \"../Currencies\";\nimport { AppContext } from \"../AppContext\";\n\nclass Actions extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef(null);\n  }\n\n  handleClickOutside = ({ target }) => {\n    if (this.ref.current && !this.ref.current.contains(target)) {\n      this.props.onOpenPopup();\n      this.setState({\n        openPopup: false\n      });\n    }\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  render() {\n    const {\n      currencies,\n      activeCurrency,\n      openPopup,\n      onSelectCurrencies,\n      onOpenPopup,\n      toggleModal,\n      totalCount\n    } = this.context;\n\n    return (\n      <div className={styles.actions}>\n        <span className={styles.popupClosed} onClick={onOpenPopup}>\n          {activeCurrency ? currencies[activeCurrency].currency.symbol : \"$\"}\n          <span>{openPopup ? <VectorUp /> : <VectorDown />}</span>\n        </span>\n        <span className={styles.separator}></span>\n        {openPopup && (\n          <Currencies />\n          // <div>\n          //   <ul className={styles.blockCurrencies} ref={this.ref}>\n          //     {currencies?.map((item, index) => (\n          //       <li\n          //         key={`${item} ${index}`}\n          //         onClick={(e) => onSelectCurrencies(index, e)}\n          //         className={`${styles.actionsItem}\n          //                                   ${\n          //           activeCurrency === index\n          //             ? styles.active\n          //             : \"\"\n          //         }`}\n          //       >\n          //         <div>{item.currency.symbol}</div>\n          //         <div>{item.currency.label}</div>\n          //       </li>\n          //     ))}\n          //   </ul>\n          // </div>\n        )}\n        <div className={styles.cart} onClick={toggleModal}>\n          <HeaderBasket />\n        </div>\n        {totalCount ? (\n          <div className={styles.cartQuantity}>\n            <CartQuantity />\n          </div>\n        ) : (\n          \"\"\n        )}\n        {totalCount ? (\n          <span\n            className={styles.quantity}\n            style={totalCount > 9 ? { left: 54.5 } : { left: 59 }}\n          >\n            {totalCount}\n          </span>\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nActions.contextType = AppContext;\n\nexport default Actions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}