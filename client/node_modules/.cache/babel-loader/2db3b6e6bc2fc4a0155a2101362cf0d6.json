{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Computer-science\\\\MyProject\\\\Entry_React_Developer_Test_Ivanov_Roman\\\\client\\\\src\\\\components\\\\Actions\\\\index.jsx\";\nimport React from \"react\";\nimport { ReactComponent as VectorDown } from \"../../assets/SVG/VectorCurrency.svg\";\nimport { ReactComponent as VectorUp } from \"../../assets/SVG/VectorUp.svg\";\nimport { ReactComponent as CartQuantity } from \"../../assets/SVG/cartQuantity.svg\";\nimport styles from \"./Actions.module.css\";\nimport { ReactComponent as HeaderBasket } from \"../../assets/SVG/headerBasket.svg\";\nimport Currencies from \"../Currencies\";\nimport { AppContext } from \"../AppContext\";\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, onClosePopup, setCurrencies } from \"../../redux/currencies/slice\";\nimport { setModalShow, toggleModal } from \"../../redux/modal/slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const actionsRef = /*#__PURE__*/React.createRef();\nexport const separatorRef = /*#__PURE__*/React.createRef();\n\nclass Actions extends React.PureComponent {\n  constructor(props) {\n    super(props); // this.ref = React.createRef(null);\n\n    this.handleClickOutside = _ref => {\n      let {\n        target\n      } = _ref;\n\n      if (actionsRef.current && !actionsRef.current.contains(target)) {\n        // if( this.props.modalShow) {\n        //   this.props.setModalShow(true);\n        // }\n        //  this.props.onOpenPopup();\n        // this.props.onClosePopup(true)\n        // this.props.onClosePopup(false);\n        console.log('click Actions Currencies');\n      }\n    };\n\n    this.handlePopup = () => {\n      // console.log(this.props.openPopup)\n      console.log(this.props.modalShow);\n      this.props.onOpenPopup(); // this.props.onClosePopup(true)\n      // this.props.setModalShow(true)\n    };\n\n    this.handleToggle = () => {\n      if (this.props.modalShow) {\n        this.props.setModalShow(false);\n      } else {\n        this.props.setModalShow(true);\n      } // console.log(this.props.openPopup)\n\n\n      this.props.onOpenPopup();\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  render() {\n    const {\n      totalCount\n    } = this.context;\n    const {\n      currencies,\n      activeCurrency,\n      openPopup,\n      toggleModal,\n      onOpenPopup\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        ref: actionsRef,\n        className: styles.popupClosed,\n        onClick: this.handlePopup,\n        children: [activeCurrency ? currencies[activeCurrency].currency.symbol : \"$\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.vector,\n          children: openPopup ? /*#__PURE__*/_jsxDEV(VectorUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 56\n          }, this) : /*#__PURE__*/_jsxDEV(VectorDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 71\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        ref: separatorRef,\n        className: styles.separator\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), openPopup && /*#__PURE__*/_jsxDEV(Currencies, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cart,\n        onClick: this.handleToggle,\n        children: /*#__PURE__*/_jsxDEV(HeaderBasket, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), totalCount ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cartQuantity,\n        children: /*#__PURE__*/_jsxDEV(CartQuantity, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : \"\", totalCount ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.quantity,\n        style: totalCount > 9 ? {\n          left: 65\n        } : {\n          left: 69\n        },\n        children: totalCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nActions.contextType = AppContext;\n\nconst mapStateToProps = state => ({\n  currencies: state.currencies.currencies,\n  activeCurrency: state.currencies.activeCurrency,\n  openPopup: state.currencies.openPopup,\n  modalShow: state.modal.modalShow\n});\n\nconst mapDispatchToProps = {\n  onOpenPopup,\n  onClosePopup,\n  toggleModal,\n  setModalShow\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Actions);","map":{"version":3,"names":["React","ReactComponent","VectorDown","VectorUp","CartQuantity","styles","HeaderBasket","Currencies","AppContext","connect","onOpenPopup","onClosePopup","setCurrencies","setModalShow","toggleModal","actionsRef","createRef","separatorRef","Actions","PureComponent","constructor","props","handleClickOutside","target","current","contains","console","log","handlePopup","modalShow","handleToggle","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","totalCount","context","currencies","activeCurrency","openPopup","actions","popupClosed","currency","symbol","vector","separator","cart","cartQuantity","quantity","left","contextType","mapStateToProps","state","modal","mapDispatchToProps"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/components/Actions/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { ReactComponent as VectorDown } from \"../../assets/SVG/VectorCurrency.svg\";\nimport { ReactComponent as VectorUp } from \"../../assets/SVG/VectorUp.svg\";\nimport { ReactComponent as CartQuantity } from \"../../assets/SVG/cartQuantity.svg\";\nimport styles from \"./Actions.module.css\";\nimport { ReactComponent as HeaderBasket } from \"../../assets/SVG/headerBasket.svg\";\nimport Currencies from \"../Currencies\";\n\nimport { AppContext } from \"../AppContext\";\nimport {connect} from \"react-redux\";\nimport { onOpenPopup, onClosePopup, setCurrencies } from \"../../redux/currencies/slice\";\nimport { setModalShow, toggleModal } from \"../../redux/modal/slice\";\n\nexport const actionsRef = React.createRef()\nexport const separatorRef = React.createRef()\n\nclass Actions extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    // this.ref = React.createRef(null);\n  }\n\n  handleClickOutside = ({ target }) => {\n    if (actionsRef.current && !actionsRef.current.contains(target)) {\n     // if( this.props.modalShow) {\n     //   this.props.setModalShow(true);\n     // }\n     //  this.props.onOpenPopup();\n      // this.props.onClosePopup(true)\n      // this.props.onClosePopup(false);\n      console.log('click Actions Currencies')\n    }\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handlePopup = () => {\n    // console.log(this.props.openPopup)\n    console.log(this.props.modalShow)\n    this.props.onOpenPopup()\n    // this.props.onClosePopup(true)\n    // this.props.setModalShow(true)\n  }\n\n  handleToggle = () => {\n\n    if(this.props.modalShow) {\n      this.props.setModalShow(false)\n    } else {\n      this.props.setModalShow(true)\n    }\n    \n    // console.log(this.props.openPopup)\n\n    this.props.onOpenPopup()\n\n\n  }\n\n  render() {\n    const { totalCount } = this.context;\n\n    const {currencies, activeCurrency, openPopup,  toggleModal, onOpenPopup} = this.props\n\n    return (\n      <div className={styles.actions}>\n        {/*<span className={styles.popupClosed} onClick={onOpenPopup}>*/}\n        <span  ref={actionsRef} className={styles.popupClosed} onClick={this.handlePopup}>\n          {activeCurrency ? currencies[activeCurrency].currency.symbol : \"$\"}\n          <span className={styles.vector}>{openPopup ? <VectorUp /> : <VectorDown />}</span>\n        </span>\n        <span ref={separatorRef} className={styles.separator}></span>\n        {openPopup && <Currencies  />}\n        <div className={styles.cart} onClick={this.handleToggle}>\n          <HeaderBasket />\n        </div>\n        {totalCount ? (\n          <div className={styles.cartQuantity}>\n            <CartQuantity />\n          </div>\n        ) : (\n          \"\"\n        )}\n        {totalCount ? (\n          <span\n            className={styles.quantity}\n            style={totalCount > 9 ? { left: 65 } : { left: 69 }}\n          >\n            {totalCount}\n          </span>\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nActions.contextType = AppContext;\n\nconst mapStateToProps = (state) => ({\n  currencies: state.currencies.currencies,\n  activeCurrency: state.currencies.activeCurrency,\n  openPopup: state.currencies.openPopup,\n  modalShow: state.modal.modalShow,\n});\n\nconst mapDispatchToProps = { onOpenPopup, onClosePopup, toggleModal, setModalShow };\n\nexport default connect(mapStateToProps, mapDispatchToProps )(Actions);"],"mappings":"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"},"metadata":{},"sourceType":"module"}