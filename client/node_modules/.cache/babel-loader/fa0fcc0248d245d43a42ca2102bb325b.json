{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { fetchProductItem } from \"../fetchProduct\";\nexport const fetchAttributes = createAsyncThunk(\"attributes/fetchByStatus\", async cardId => {\n  const {\n    data\n  } = await fetchProductItem(cardId);\n  return data.product.attributes;\n});\nconst initialState = {\n  status: \"loading\",\n  attributes: [fetchAttributes],\n  activeAttributeItem: \"\",\n  activeAttributeIndex: \"\",\n  activeAttribute: \"\"\n};\nexport const attributesSlice = createSlice({\n  name: \"attributes\",\n  initialState,\n  reducers: {\n    setActiveAttributeItem: (state, action) => {\n      state.activeAttributeItem = action.payload;\n    },\n    setActiveAttributeIndex: (state, action) => {\n      state.activeAttributeIndex = action.payload;\n    },\n    setActiveAttribute: (state, action) => {\n      state.activeAttribute = action.payload;\n    },\n    setAttributes: (state, action) => {\n      state.activeAttribute = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchAttributes.pending, state => {\n      state.status = 'loading';\n    });\n    builder.addCase(fetchAttributes.fulfilled, (state, action) => {\n      // state.attributes = action.payload\n      state.attributes = action.payload;\n      state.status = 'success';\n    });\n    builder.addCase(fetchAttributes.rejected, state => {\n      state.status = 'error';\n    });\n  }\n});\nexport const {\n  setActiveAttributeItem,\n  setActiveAttributeIndex,\n  setActiveAttribute,\n  setAttributes\n} = attributesSlice.actions;\nexport default attributesSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchProductItem","fetchAttributes","cardId","data","product","attributes","initialState","status","activeAttributeItem","activeAttributeIndex","activeAttribute","attributesSlice","name","reducers","setActiveAttributeItem","state","action","payload","setActiveAttributeIndex","setActiveAttribute","setAttributes","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/redux/attributes/slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { fetchProductItem } from \"../fetchProduct\";\r\n\r\nexport const fetchAttributes = createAsyncThunk(\r\n  \"attributes/fetchByStatus\",\r\n  async (cardId) => {\r\n    const { data } = await fetchProductItem(cardId);\r\n    return data.product.attributes;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  status: \"loading\",\r\n  attributes: [fetchAttributes],\r\n  activeAttributeItem: \"\",\r\n  activeAttributeIndex: \"\",\r\n  activeAttribute: \"\",\r\n};\r\n\r\nexport const attributesSlice = createSlice({\r\n  name: \"attributes\",\r\n  initialState,\r\n  reducers: {\r\n    setActiveAttributeItem: (state, action) => {\r\n      state.activeAttributeItem = action.payload;\r\n    },\r\n\r\n    setActiveAttributeIndex: (state, action) => {\r\n      state.activeAttributeIndex = action.payload;\r\n    },\r\n\r\n    setActiveAttribute: (state, action) => {\r\n      state.activeAttribute = action.payload;\r\n    },\r\n\r\n    setAttributes: (state, action) => {\r\n      state.activeAttribute = action.payload;\r\n    },\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchAttributes.pending, (state) => {\r\n      state.status = 'loading'\r\n\r\n    })\r\n    builder.addCase(fetchAttributes.fulfilled, (state, action) => {\r\n      // state.attributes = action.payload\r\n      state.attributes = action.payload\r\n      state.status = 'success'\r\n    })\r\n    builder.addCase(fetchAttributes.rejected, (state) => {\r\n      state.status = 'error'\r\n    })\r\n  },\r\n});\r\n\r\nexport const { setActiveAttributeItem, setActiveAttributeIndex, setActiveAttribute, setAttributes } = attributesSlice.actions;\r\n\r\nexport default attributesSlice.reducer;"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAEA,SAASC,gBAAT,QAAiC,iBAAjC;AAEA,OAAO,MAAMC,eAAe,GAAGH,gBAAgB,CAC7C,0BAD6C,EAE7C,MAAOI,MAAP,IAAkB;EAChB,MAAM;IAAEC;EAAF,IAAW,MAAMH,gBAAgB,CAACE,MAAD,CAAvC;EACA,OAAOC,IAAI,CAACC,OAAL,CAAaC,UAApB;AACD,CAL4C,CAAxC;AAQP,MAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE,SADW;EAEnBF,UAAU,EAAE,CAACJ,eAAD,CAFO;EAGnBO,mBAAmB,EAAE,EAHF;EAInBC,oBAAoB,EAAE,EAJH;EAKnBC,eAAe,EAAE;AALE,CAArB;AAQA,OAAO,MAAMC,eAAe,GAAGZ,WAAW,CAAC;EACzCa,IAAI,EAAE,YADmC;EAEzCN,YAFyC;EAGzCO,QAAQ,EAAE;IACRC,sBAAsB,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACzCD,KAAK,CAACP,mBAAN,GAA4BQ,MAAM,CAACC,OAAnC;IACD,CAHO;IAKRC,uBAAuB,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MAC1CD,KAAK,CAACN,oBAAN,GAA6BO,MAAM,CAACC,OAApC;IACD,CAPO;IASRE,kBAAkB,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACrCD,KAAK,CAACL,eAAN,GAAwBM,MAAM,CAACC,OAA/B;IACD,CAXO;IAaRG,aAAa,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAmB;MAChCD,KAAK,CAACL,eAAN,GAAwBM,MAAM,CAACC,OAA/B;IACD;EAfO,CAH+B;EAqBzCI,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACuB,OAAhC,EAA0CT,KAAD,IAAW;MAClDA,KAAK,CAACR,MAAN,GAAe,SAAf;IAED,CAHD;IAIAe,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACwB,SAAhC,EAA2C,CAACV,KAAD,EAAQC,MAAR,KAAmB;MAC5D;MACAD,KAAK,CAACV,UAAN,GAAmBW,MAAM,CAACC,OAA1B;MACAF,KAAK,CAACR,MAAN,GAAe,SAAf;IACD,CAJD;IAKAe,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACyB,QAAhC,EAA2CX,KAAD,IAAW;MACnDA,KAAK,CAACR,MAAN,GAAe,OAAf;IACD,CAFD;EAGD;AAlCwC,CAAD,CAAnC;AAqCP,OAAO,MAAM;EAAEO,sBAAF;EAA0BI,uBAA1B;EAAmDC,kBAAnD;EAAuEC;AAAvE,IAAyFT,eAAe,CAACgB,OAA/G;AAEP,eAAehB,eAAe,CAACiB,OAA/B"},"metadata":{},"sourceType":"module"}