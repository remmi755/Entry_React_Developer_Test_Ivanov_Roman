{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\Computer-science\\\\MyProject\\\\Entry_React_Developer_Test_Ivanov_Roman\\\\client\\\\src\\\\App.js\";\nimport React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Category from \"./pages/Category\";\nimport Header from \"./pages/Header\";\nimport Cart from \"./pages/Cart\";\nimport PDP from \"./pages/Pdp\";\nimport { AppContext } from \"./components/AppContext\";\nimport Modal from \"./components/Modal\";\nimport CartOverlay from \"./components/CartOverlay\";\nimport { fetchCategories } from \"./redux/fetchCategories\";\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, setCurrencies } from \"./redux/currencies/slice\";\nimport { setProductCards, fetchProductCards } from \"./redux/categories/slice\";\nimport { setCartList } from \"./redux/cartList/slice\";\nimport { setModalShow, toggleModal } from \"./redux/modal/slice\";\nimport { setActiveAttribute, setActiveAttributeIndex, setActiveAttributeItem } from \"./redux/attributes/slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      await this.renderProductCards();\n      await this.getCurrencies();\n    };\n\n    this.renderProductCards = async () => {\n      await this.props.fetchProductCards();\n    };\n\n    this.getCurrencies = async () => {\n      const {\n        activeCategory,\n        setCurrencies\n      } = this.props;\n      const result = await fetchCategories();\n      const currenciesList = result.data.categories[activeCategory].products[0].prices;\n      setCurrencies(currenciesList);\n    };\n\n    this.onSelectAttribute = (attribute, el, index) => {\n      const {\n        setActiveAttributeItem,\n        setActiveAttributeIndex,\n        setActiveAttribute\n      } = this.props;\n      return setActiveAttributeIndex(index), setActiveAttribute(attribute), setActiveAttributeItem(attribute.items[index]);\n    };\n\n    this.createNewProduct = product => {\n      return {\n        attributes: product.attributes,\n        brand: product.brand,\n        prices: product.prices,\n        gallery: product.gallery,\n        id: product.id,\n        inStock: product.inStock,\n        name: product.name,\n        count: 1\n      };\n    };\n\n    this.onAddToCart = product => {\n      const {\n        activeAttribute,\n        activeAttributeItem,\n        activeAttributeIndex,\n        cartList,\n        setCartList\n      } = this.props;\n      const isInCart = cartList.some(function (e) {\n        return e.id === product.id;\n      });\n      let newProduct = this.createNewProduct(product);\n\n      if (!isInCart && product.inStock) {\n        // newProduct = this.createNewProduct(product)\n        console.log(\"!isInCart\");\n        newProduct = { ...newProduct,\n          activeAttribute: activeAttribute,\n          activeAttributeItem: activeAttributeItem,\n          activeAttributeIndex: activeAttributeIndex,\n          isInCart: true,\n          count: 1\n        };\n      } else {\n        newProduct = { ...newProduct,\n          activeAttribute: activeAttribute,\n          activeAttributeItem: activeAttributeItem,\n          activeAttributeIndex: activeAttributeIndex,\n          isInCart: true\n        };\n      } // }\n      // } else {\n      //   cartList.forEach((el) => {\n      //     console.log(el.activeAttributeItem.id)\n      //     console.log(newProduct)\n      //     if (el.id === newProduct.id) {\n      //       newProduct = {\n      //         ...el,\n      //         activeAttribute: el.activeAttribute,\n      //         activeAttributeItem: el.activeAttributeItem,\n      //         activeAttributeIndex: el.activeAttributeIndex,\n      //         isInCart: true\n      //       };\n      //     }\n      //   });\n      // }\n      // cartList.forEach((el) => {\n      //   if (el.id === newProduct.id) {\n      //     newProduct.isInCart = true\n      //   }\n      // });\n      // let newProduct = this.createNewProduct(product)\n      // cartList.forEach((el) => {\n      //\n      //   if (el.id === newProduct.id) {\n      //     newProduct = {\n      //       ...el,\n      //       activeAttribute: el.activeAttribute,\n      //       activeAttributeItem: el.activeAttributeItem,\n      //       activeAttributeIndex: el.activeAttributeIndex,\n      //       isInCart: true\n      //     };\n      //   }\n      // });\n      // console.log(newProduct.isInCart);\n\n\n      if (!isInCart && newProduct.inStock) {\n        console.log(\"!!isInCart\");\n        console.log(newProduct);\n        localStorage.setItem(\"cart\", JSON.stringify([...cartList, newProduct]));\n        setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n      } else if (newProduct.isInCart && newProduct.inStock) {\n        console.log(\"isInCart\"); //      let  newProduct = cartList.find((item) => item.id === product.id )\n        //       console.log(newProduct)\n        //       cartList.map(function(el) {\n        // if (el === newProduct) {\n        //\n        // }\n        //       })\n        // newProduct = {\n        //   ...newProduct,\n        //   activeAttribute: activeAttribute,\n        //   activeAttributeItem: activeAttributeItem,\n        //   activeAttributeIndex: activeAttributeIndex,\n        // };\n\n        cartList.forEach((el, index, arr) => {\n          console.log(el);\n          console.log(el.activeAttributeItem.id);\n          console.log(newProduct.activeAttributeItem.id);\n          console.log(newProduct.activeAttributeItem.id === el.activeAttributeItem.id);\n\n          if (el.activeAttributeItem.id !== newProduct.activeAttributeItem.id) {\n            console.log(\"!==\");\n            console.log(newProduct);\n            localStorage.setItem(\"cart\", JSON.stringify([...cartList, newProduct]));\n            setCartList(JSON.parse(localStorage.getItem(\"cart\"))); // return false\n            // newProduct = { ...newProduct, count: el.count + 1 };\n            // let newCartList = cartList.map((item) =>\n            //   item.activeAttributeItem.id === newProduct.activeAttributeItem.id\n            //     ? newProduct\n            //     : item\n            // );\n            // console.log(newCartList)\n            // localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n            // setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n            // return false\n            // arr.length = index + 1;\n          } else if (el.activeAttributeItem.id === newProduct.activeAttributeItem.id) {\n            console.log(\"===\");\n            newProduct = { ...newProduct,\n              count: newProduct.count + 1\n            };\n            console.log(newProduct);\n            let newCartList = cartList.map(item => item.activeAttributeItem.id === newProduct.activeAttributeItem.id ? newProduct : item);\n            localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n            setCartList(JSON.parse(localStorage.getItem(\"cart\"))); // return false\n\n            arr.length = index + 1;\n          } // if (el.activeAttributeItem.id !== newProduct.activeAttributeItem.id) {\n          //   console.log(\"!==\")\n          //   localStorage.setItem(\n          //     \"cart\",\n          //     JSON.stringify([...cartList, newProduct])\n          //   );\n          //   setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n          //   return false\n          // } else if (\n          //   el.activeAttributeItem.id === newProduct.activeAttributeItem.id\n          // ) {\n          //   console.log(\"===\")\n          //   newProduct = { ...newProduct, count: el.count + 1 };\n          //   let newCartList = cartList.map((item) =>\n          //     item.activeAttributeItem.id === newProduct.activeAttributeItem.id\n          //       ? newProduct\n          //       : item\n          //   );\n          //   console.log(newCartList)\n          //   localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n          //   setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n          //   return false\n          //   // arr.length = index + 1;\n          // }\n\n        });\n      }\n    };\n\n    this.onHidePopup = () => {\n      document.body.style.overflow = \"\";\n      this.props.setModalShow(false);\n    };\n  }\n\n  render() {\n    const totalPrice = this.props.cartList.reduce((prev, curr) => {\n      return prev + curr.prices[this.props.activeCurrency].amount * curr.count;\n    }, 0).toFixed(2);\n    const totalCount = this.props.cartList.reduce((prev, curr) => {\n      return prev + curr.count;\n    }, 0);\n    const {\n      toggleModal,\n      modalShow\n    } = this.props;\n    const {\n      onHidePopup,\n      onSelectAttribute,\n      onAddToCart\n    } = this;\n    return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n      value: {\n        totalCount,\n        totalPrice,\n        onHidePopup,\n        onSelectAttribute,\n        onAddToCart\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart\",\n            element: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 42\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/:cardId\",\n            element: /*#__PURE__*/_jsxDEV(PDP, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: modalShow ? document.body.style.overflow = \"hidden\" : document.body.style.overflow = \"\",\n          close: toggleModal,\n          shown: modalShow,\n          children: /*#__PURE__*/_jsxDEV(CartOverlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currencies: state.currencies.currencies,\n  productCards: state.categories.productCards,\n  activeCurrency: state.currencies.activeCurrency,\n  cartList: state.cartList.cartList,\n  activeCategory: state.categories.activeCategory,\n  modalShow: state.modal.modalShow,\n  count: state.cartList.count,\n  activeAttributeItem: state.attributes.activeAttributeItem,\n  activeAttributeIndex: state.attributes.activeAttributeIndex,\n  activeAttribute: state.attributes.activeAttribute\n});\n\nconst mapDispatchToProps = {\n  fetchCategories,\n  setCurrencies,\n  setProductCards,\n  setCartList,\n  onOpenPopup,\n  fetchProductCards,\n  toggleModal,\n  setModalShow,\n  setActiveAttributeItem,\n  setActiveAttributeIndex,\n  setActiveAttribute\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"names":["React","Route","Routes","Category","Header","Cart","PDP","AppContext","Modal","CartOverlay","fetchCategories","connect","onOpenPopup","setCurrencies","setProductCards","fetchProductCards","setCartList","setModalShow","toggleModal","setActiveAttribute","setActiveAttributeIndex","setActiveAttributeItem","App","Component","constructor","props","componentDidMount","renderProductCards","getCurrencies","activeCategory","result","currenciesList","data","categories","products","prices","onSelectAttribute","attribute","el","index","items","createNewProduct","product","attributes","brand","gallery","id","inStock","name","count","onAddToCart","activeAttribute","activeAttributeItem","activeAttributeIndex","cartList","isInCart","some","e","newProduct","console","log","localStorage","setItem","JSON","stringify","parse","getItem","forEach","arr","newCartList","map","item","length","onHidePopup","document","body","style","overflow","render","totalPrice","reduce","prev","curr","activeCurrency","amount","toFixed","totalCount","modalShow","mapStateToProps","state","currencies","productCards","modal","mapDispatchToProps"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Category from \"./pages/Category\";\nimport Header from \"./pages/Header\";\nimport Cart from \"./pages/Cart\";\nimport PDP from \"./pages/Pdp\";\n\nimport { AppContext } from \"./components/AppContext\";\nimport Modal from \"./components/Modal\";\nimport CartOverlay from \"./components/CartOverlay\";\n\nimport { fetchCategories } from \"./redux/fetchCategories\";\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, setCurrencies } from \"./redux/currencies/slice\";\nimport { setProductCards, fetchProductCards } from \"./redux/categories/slice\";\nimport { setCartList } from \"./redux/cartList/slice\";\nimport { setModalShow, toggleModal } from \"./redux/modal/slice\";\nimport {\n  setActiveAttribute,\n  setActiveAttributeIndex,\n  setActiveAttributeItem,\n} from \"./redux/attributes/slice\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount = async () => {\n    await this.renderProductCards();\n    await this.getCurrencies();\n  };\n\n  renderProductCards = async () => {\n    await this.props.fetchProductCards();\n  };\n\n  getCurrencies = async () => {\n    const { activeCategory, setCurrencies } = this.props;\n    const result = await fetchCategories();\n    const currenciesList =\n      result.data.categories[activeCategory].products[0].prices;\n    setCurrencies(currenciesList);\n  };\n\n  onSelectAttribute = (attribute, el, index) => {\n    const {\n      setActiveAttributeItem,\n      setActiveAttributeIndex,\n      setActiveAttribute,\n    } = this.props;\n\n    return (\n      setActiveAttributeIndex(index),\n      setActiveAttribute(attribute),\n      setActiveAttributeItem(attribute.items[index])\n    );\n  };\n\n  createNewProduct = (product) => {\n    return {\n      attributes: product.attributes,\n      brand: product.brand,\n      prices: product.prices,\n      gallery: product.gallery,\n      id: product.id,\n      inStock: product.inStock,\n      name: product.name,\n      count: 1,\n    };\n  };\n\n  onAddToCart = (product) => {\n    const {\n      activeAttribute,\n      activeAttributeItem,\n      activeAttributeIndex,\n      cartList,\n      setCartList,\n    } = this.props;\n    const isInCart = cartList.some(function (e) {\n      return e.id === product.id;\n    });\n\n    let newProduct = this.createNewProduct(product);\n\n    if (!isInCart && product.inStock) {\n      // newProduct = this.createNewProduct(product)\n      console.log(\"!isInCart\");\n      newProduct = {\n        ...newProduct,\n        activeAttribute: activeAttribute,\n        activeAttributeItem: activeAttributeItem,\n        activeAttributeIndex: activeAttributeIndex,\n        isInCart: true,\n        count: 1,\n      };\n    } else {\n      newProduct = {\n        ...newProduct,\n        activeAttribute: activeAttribute,\n        activeAttributeItem: activeAttributeItem,\n        activeAttributeIndex: activeAttributeIndex,\n        isInCart: true,\n      };\n    }\n\n    // }\n    // } else {\n    //   cartList.forEach((el) => {\n    //     console.log(el.activeAttributeItem.id)\n    //     console.log(newProduct)\n    //     if (el.id === newProduct.id) {\n    //       newProduct = {\n    //         ...el,\n    //         activeAttribute: el.activeAttribute,\n    //         activeAttributeItem: el.activeAttributeItem,\n    //         activeAttributeIndex: el.activeAttributeIndex,\n    //         isInCart: true\n    //       };\n    //     }\n    //   });\n    // }\n\n    // cartList.forEach((el) => {\n    //   if (el.id === newProduct.id) {\n    //     newProduct.isInCart = true\n    //   }\n    // });\n\n    // let newProduct = this.createNewProduct(product)\n\n    // cartList.forEach((el) => {\n    //\n    //   if (el.id === newProduct.id) {\n    //     newProduct = {\n    //       ...el,\n    //       activeAttribute: el.activeAttribute,\n    //       activeAttributeItem: el.activeAttributeItem,\n    //       activeAttributeIndex: el.activeAttributeIndex,\n    //       isInCart: true\n    //     };\n    //   }\n    // });\n\n    // console.log(newProduct.isInCart);\n    if (!isInCart && newProduct.inStock) {\n      console.log(\"!!isInCart\");\n      console.log(newProduct);\n      localStorage.setItem(\"cart\", JSON.stringify([...cartList, newProduct]));\n      setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n    } else if (newProduct.isInCart && newProduct.inStock) {\n      console.log(\"isInCart\");\n      //      let  newProduct = cartList.find((item) => item.id === product.id )\n      //       console.log(newProduct)\n      //       cartList.map(function(el) {\n      // if (el === newProduct) {\n      //\n      // }\n      //       })\n      // newProduct = {\n      //   ...newProduct,\n      //   activeAttribute: activeAttribute,\n      //   activeAttributeItem: activeAttributeItem,\n      //   activeAttributeIndex: activeAttributeIndex,\n      // };\n\n      cartList.forEach((el, index, arr) => {\n        console.log(el)\n        console.log(el.activeAttributeItem.id);\n        console.log(newProduct.activeAttributeItem.id);\n        console.log(newProduct.activeAttributeItem.id === el.activeAttributeItem.id);\n        if (el.activeAttributeItem.id !== newProduct.activeAttributeItem.id) {\n          console.log(\"!==\");\n          console.log(newProduct);\n          localStorage.setItem(\n            \"cart\",\n            JSON.stringify([...cartList, newProduct])\n          );\n          setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n           // return false\n          // newProduct = { ...newProduct, count: el.count + 1 };\n          // let newCartList = cartList.map((item) =>\n          //   item.activeAttributeItem.id === newProduct.activeAttributeItem.id\n          //     ? newProduct\n          //     : item\n          // );\n          // console.log(newCartList)\n          // localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n          // setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n          // return false\n          // arr.length = index + 1;\n        } else if (\n          el.activeAttributeItem.id === newProduct.activeAttributeItem.id\n        ) {\n          console.log(\"===\");\n          newProduct = { ...newProduct, count: newProduct.count + 1 };\n          console.log(newProduct);\n          let newCartList = cartList.map((item) =>\n            item.activeAttributeItem.id === newProduct.activeAttributeItem.id\n              ? newProduct\n              : item\n          );\n          localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n          setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n          // return false\n          arr.length = index + 1;\n        }\n\n        // if (el.activeAttributeItem.id !== newProduct.activeAttributeItem.id) {\n        //   console.log(\"!==\")\n        //   localStorage.setItem(\n        //     \"cart\",\n        //     JSON.stringify([...cartList, newProduct])\n        //   );\n        //   setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n        //   return false\n        // } else if (\n        //   el.activeAttributeItem.id === newProduct.activeAttributeItem.id\n        // ) {\n        //   console.log(\"===\")\n        //   newProduct = { ...newProduct, count: el.count + 1 };\n        //   let newCartList = cartList.map((item) =>\n        //     item.activeAttributeItem.id === newProduct.activeAttributeItem.id\n        //       ? newProduct\n        //       : item\n        //   );\n        //   console.log(newCartList)\n        //   localStorage.setItem(\"cart\", JSON.stringify(newCartList));\n        //   setCartList(JSON.parse(localStorage.getItem(\"cart\")));\n        //   return false\n        //   // arr.length = index + 1;\n        // }\n      });\n    }\n  };\n\n  onHidePopup = () => {\n    document.body.style.overflow = \"\";\n    this.props.setModalShow(false);\n  };\n\n  render() {\n    const totalPrice = this.props.cartList\n      .reduce((prev, curr) => {\n        return (\n          prev + curr.prices[this.props.activeCurrency].amount * curr.count\n        );\n      }, 0)\n      .toFixed(2);\n\n    const totalCount = this.props.cartList.reduce((prev, curr) => {\n      return prev + curr.count;\n    }, 0);\n\n    const { toggleModal, modalShow } = this.props;\n\n    const { onHidePopup, onSelectAttribute, onAddToCart } = this;\n\n    return (\n      <AppContext.Provider\n        value={{\n          totalCount,\n          totalPrice,\n          onHidePopup,\n          onSelectAttribute,\n          onAddToCart,\n        }}\n      >\n        <div>\n          <Header />\n          <Routes>\n            <Route path=\"/\" element={<Category />} />\n            <Route path=\"/cart\" element={<Cart />} />\n            <Route path=\"/:cardId\" element={<PDP />} />\n          </Routes>\n          <Modal\n            className={\n              modalShow\n                ? (document.body.style.overflow = \"hidden\")\n                : (document.body.style.overflow = \"\")\n            }\n            close={toggleModal}\n            shown={modalShow}\n          >\n            <CartOverlay />\n          </Modal>\n        </div>\n      </AppContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currencies: state.currencies.currencies,\n  productCards: state.categories.productCards,\n  activeCurrency: state.currencies.activeCurrency,\n  cartList: state.cartList.cartList,\n  activeCategory: state.categories.activeCategory,\n  modalShow: state.modal.modalShow,\n  count: state.cartList.count,\n  activeAttributeItem: state.attributes.activeAttributeItem,\n  activeAttributeIndex: state.attributes.activeAttributeIndex,\n  activeAttribute: state.attributes.activeAttribute,\n});\nconst mapDispatchToProps = {\n  fetchCategories,\n  setCurrencies,\n  setProductCards,\n  setCartList,\n  onOpenPopup,\n  fetchProductCards,\n  toggleModal,\n  setModalShow,\n  setActiveAttributeItem,\n  setActiveAttributeIndex,\n  setActiveAttribute,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}