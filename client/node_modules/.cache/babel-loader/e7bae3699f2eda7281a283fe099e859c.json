{"ast":null,"code":"import _regeneratorRuntime from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{fetchProductItem}from\"../fetchProduct\";export var fetchAttributes=createAsyncThunk(\"attributes/fetchByStatus\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(cardId){var _yield$fetchProductIt,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchProductItem(cardId);case 2:_yield$fetchProductIt=_context.sent;data=_yield$fetchProductIt.data;return _context.abrupt(\"return\",data.product.attributes);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var initialState={status:\"loading\",attributes:[fetchAttributes],activeAttributeItem:\"\",activeAttributeIndex:\"\",activeAttribute:\"\"};export var attributesSlice=createSlice({name:\"attributes\",initialState:initialState,reducers:{setActiveAttributeItem:function setActiveAttributeItem(state,action){state.activeAttributeItem=action.payload;},setActiveAttributeIndex:function setActiveAttributeIndex(state,action){state.activeAttributeIndex=action.payload;},setActiveAttribute:function setActiveAttribute(state,action){state.activeAttribute=action.payload;},setAttributes:function setAttributes(state,action){state.activeAttribute=action.payload;}},extraReducers:function extraReducers(builder){builder.addCase(fetchAttributes.pending,function(state){state.status='loading';});builder.addCase(fetchAttributes.fulfilled,function(state,action){state.attributes=action.payload;state.status='success';});builder.addCase(fetchAttributes.rejected,function(state){state.status='error';});}});var _attributesSlice$acti=attributesSlice.actions,setActiveAttributeItem=_attributesSlice$acti.setActiveAttributeItem,setActiveAttributeIndex=_attributesSlice$acti.setActiveAttributeIndex,setActiveAttribute=_attributesSlice$acti.setActiveAttribute,setAttributes=_attributesSlice$acti.setAttributes;export{setActiveAttributeItem,setActiveAttributeIndex,setActiveAttribute,setAttributes};export default attributesSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchProductItem","fetchAttributes","cardId","data","product","attributes","initialState","status","activeAttributeItem","activeAttributeIndex","activeAttribute","attributesSlice","name","reducers","setActiveAttributeItem","state","action","payload","setActiveAttributeIndex","setActiveAttribute","setAttributes","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/redux/attributes/slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { fetchProductItem } from \"../fetchProduct\";\r\n\r\nexport const fetchAttributes = createAsyncThunk(\r\n  \"attributes/fetchByStatus\",\r\n  async (cardId) => {\r\n    const { data } = await fetchProductItem(cardId);\r\n    return data.product.attributes;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  status: \"loading\",\r\n  attributes: [fetchAttributes],\r\n  activeAttributeItem: \"\",\r\n  activeAttributeIndex: \"\",\r\n  activeAttribute: \"\",\r\n};\r\n\r\nexport const attributesSlice = createSlice({\r\n  name: \"attributes\",\r\n  initialState,\r\n  reducers: {\r\n    setActiveAttributeItem: (state, action) => {\r\n      state.activeAttributeItem = action.payload;\r\n    },\r\n\r\n    setActiveAttributeIndex: (state, action) => {\r\n      state.activeAttributeIndex = action.payload;\r\n    },\r\n\r\n    setActiveAttribute: (state, action) => {\r\n      state.activeAttribute = action.payload;\r\n    },\r\n\r\n    setAttributes: (state, action) => {\r\n      state.activeAttribute = action.payload;\r\n    },\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchAttributes.pending, (state) => {\r\n      state.status = 'loading'\r\n\r\n    })\r\n    builder.addCase(fetchAttributes.fulfilled, (state, action) => {\r\n      state.attributes = action.payload\r\n      state.status = 'success'\r\n    })\r\n    builder.addCase(fetchAttributes.rejected, (state) => {\r\n      state.status = 'error'\r\n    })\r\n  },\r\n});\r\n\r\nexport const { setActiveAttributeItem, setActiveAttributeIndex, setActiveAttribute, setAttributes } = attributesSlice.actions;\r\n\r\nexport default attributesSlice.reducer;"],"mappings":"wWAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CAEA,OAASC,gBAAT,KAAiC,iBAAjC,CAEA,MAAO,IAAMC,gBAAe,CAAGH,gBAAgB,CAC7C,0BAD6C,4FAE7C,iBAAOI,MAAP,yKACyBF,iBAAgB,CAACE,MAAD,CADzC,4CACUC,IADV,uBACUA,IADV,iCAESA,IAAI,CAACC,OAAL,CAAaC,UAFtB,wDAF6C,+DAAxC,CAQP,GAAMC,aAAY,CAAG,CACnBC,MAAM,CAAE,SADW,CAEnBF,UAAU,CAAE,CAACJ,eAAD,CAFO,CAGnBO,mBAAmB,CAAE,EAHF,CAInBC,oBAAoB,CAAE,EAJH,CAKnBC,eAAe,CAAE,EALE,CAArB,CAQA,MAAO,IAAMC,gBAAe,CAAGZ,WAAW,CAAC,CACzCa,IAAI,CAAE,YADmC,CAEzCN,YAAY,CAAZA,YAFyC,CAGzCO,QAAQ,CAAE,CACRC,sBAAsB,CAAE,gCAACC,KAAD,CAAQC,MAAR,CAAmB,CACzCD,KAAK,CAACP,mBAAN,CAA4BQ,MAAM,CAACC,OAAnC,CACD,CAHO,CAKRC,uBAAuB,CAAE,iCAACH,KAAD,CAAQC,MAAR,CAAmB,CAC1CD,KAAK,CAACN,oBAAN,CAA6BO,MAAM,CAACC,OAApC,CACD,CAPO,CASRE,kBAAkB,CAAE,4BAACJ,KAAD,CAAQC,MAAR,CAAmB,CACrCD,KAAK,CAACL,eAAN,CAAwBM,MAAM,CAACC,OAA/B,CACD,CAXO,CAaRG,aAAa,CAAE,uBAACL,KAAD,CAAQC,MAAR,CAAmB,CAChCD,KAAK,CAACL,eAAN,CAAwBM,MAAM,CAACC,OAA/B,CACD,CAfO,CAH+B,CAqBzCI,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACuB,OAAhC,CAAyC,SAACT,KAAD,CAAW,CAClDA,KAAK,CAACR,MAAN,CAAe,SAAf,CAED,CAHD,EAIAe,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACwB,SAAhC,CAA2C,SAACV,KAAD,CAAQC,MAAR,CAAmB,CAC5DD,KAAK,CAACV,UAAN,CAAmBW,MAAM,CAACC,OAA1B,CACAF,KAAK,CAACR,MAAN,CAAe,SAAf,CACD,CAHD,EAIAe,OAAO,CAACC,OAAR,CAAgBtB,eAAe,CAACyB,QAAhC,CAA0C,SAACX,KAAD,CAAW,CACnDA,KAAK,CAACR,MAAN,CAAe,OAAf,CACD,CAFD,EAGD,CAjCwC,CAAD,CAAnC,CAoCA,0BAA+FI,eAAe,CAACgB,OAA/G,CAAQb,sBAAR,uBAAQA,sBAAR,CAAgCI,uBAAhC,uBAAgCA,uBAAhC,CAAyDC,kBAAzD,uBAAyDA,kBAAzD,CAA6EC,aAA7E,uBAA6EA,aAA7E,C,wFAEP,cAAeT,gBAAe,CAACiB,OAA/B"},"metadata":{},"sourceType":"module"}