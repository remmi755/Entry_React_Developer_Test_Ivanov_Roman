{"ast":null,"code":"import _classCallCheck from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import styles from\"./Currencies.module.css\";import{connect}from\"react-redux\";import{onOpenPopup,onSelectCurrencies}from\"../../redux/currencies/slice\";import{actionsRef}from\"../Actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var currenciesRef=/*#__PURE__*/React.createRef();var Currencies=/*#__PURE__*/function(_React$PureComponent){_inherits(Currencies,_React$PureComponent);var _super=_createSuper(Currencies);function Currencies(){var _this;_classCallCheck(this,Currencies);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleClickOutside=function(_ref){var target=_ref.target;if(currenciesRef.current&&!currenciesRef.current.contains(target)&&actionsRef.current&&!actionsRef.current.contains(target)){_this.props.onOpenPopup();}};return _this;}_createClass(Currencies,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"render\",value:function render(){var _this$props=this.props,currencies=_this$props.currencies,activeCurrency=_this$props.activeCurrency,onSelectCurrencies=_this$props.onSelectCurrencies;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:styles.blockCurrencies,ref:currenciesRef,children:currencies===null||currencies===void 0?void 0:currencies.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return onSelectCurrencies(index);},className:\"\".concat(styles.currenciesItem,\"  \\n                 \").concat(activeCurrency===index?styles.active:\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.symbol,children:item.currency.symbol}),/*#__PURE__*/_jsx(\"div\",{children:item.currency.label})]},\"\".concat(item,\" \").concat(index));})})});}}]);return Currencies;}(React.PureComponent);var mapStateToProps=function mapStateToProps(state){return{activeCurrency:state.currencies.activeCurrency,currencies:state.currencies.currencies};};var mapDispatchToProps={onSelectCurrencies:onSelectCurrencies,onOpenPopup:onOpenPopup};export default connect(mapStateToProps,mapDispatchToProps)(Currencies);","map":{"version":3,"names":["React","styles","connect","onOpenPopup","onSelectCurrencies","actionsRef","currenciesRef","createRef","Currencies","handleClickOutside","target","current","contains","props","document","addEventListener","removeEventListener","currencies","activeCurrency","blockCurrencies","map","item","index","currenciesItem","active","symbol","currency","label","PureComponent","mapStateToProps","state","mapDispatchToProps"],"sources":["D:/Downloads/Computer-science/MyProject/Entry_React_Developer_Test_Ivanov_Roman/client/src/components/Currencies/index.js"],"sourcesContent":["import React from \"react\";\nimport styles from \"./Currencies.module.css\";\n\nimport { connect } from \"react-redux\";\nimport { onOpenPopup, onSelectCurrencies } from \"../../redux/currencies/slice\";\nimport { actionsRef } from \"../Actions\";\n\nexport const currenciesRef = React.createRef();\n\nclass Currencies extends React.PureComponent {\n  handleClickOutside = ({ target }) => {\n    if (\n      currenciesRef.current &&\n      !currenciesRef.current.contains(target) &&\n      actionsRef.current &&\n      !actionsRef.current.contains(target)\n    ) {\n      this.props.onOpenPopup();\n    }\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n  render() {\n    const { currencies, activeCurrency, onSelectCurrencies } = this.props;\n\n    return (\n      <div>\n        <ul className={styles.blockCurrencies} ref={currenciesRef}>\n          {currencies?.map((item, index) => (\n            <li\n              key={`${item} ${index}`}\n              onClick={() => onSelectCurrencies(index)}\n              className={`${styles.currenciesItem}  \n                 ${activeCurrency === index ? styles.active : \"\"}`}\n            >\n              <div className={styles.symbol}>{item.currency.symbol}</div>\n              <div>{item.currency.label}</div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  activeCurrency: state.currencies.activeCurrency,\n  currencies: state.currencies.currencies,\n});\n\nconst mapDispatchToProps = { onSelectCurrencies, onOpenPopup };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Currencies);\n"],"mappings":"gqBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAT,CAAsBC,kBAAtB,KAAgD,8BAAhD,CACA,OAASC,UAAT,KAA2B,YAA3B,C,wFAEA,MAAO,IAAMC,cAAa,cAAGN,KAAK,CAACO,SAAN,EAAtB,C,GAEDC,W,+VACJC,kB,CAAqB,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CACnC,GACEJ,aAAa,CAACK,OAAd,EACA,CAACL,aAAa,CAACK,OAAd,CAAsBC,QAAtB,CAA+BF,MAA/B,CADD,EAEAL,UAAU,CAACM,OAFX,EAGA,CAACN,UAAU,CAACM,OAAX,CAAmBC,QAAnB,CAA4BF,MAA5B,CAJH,CAKE,CACA,MAAKG,KAAL,CAAWV,WAAX,GACD,CACF,C,uEAED,4BAAoB,CAClBW,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,KAAKN,kBAA5C,EACD,C,oCAED,+BAAuB,CACrBK,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0C,KAAKP,kBAA/C,EACD,C,sBACD,iBAAS,CACP,gBAA2D,KAAKI,KAAhE,CAAQI,UAAR,aAAQA,UAAR,CAAoBC,cAApB,aAAoBA,cAApB,CAAoCd,kBAApC,aAAoCA,kBAApC,CAEA,mBACE,kCACE,WAAI,SAAS,CAAEH,MAAM,CAACkB,eAAtB,CAAuC,GAAG,CAAEb,aAA5C,UACGW,UADH,SACGA,UADH,iBACGA,UAAU,CAAEG,GAAZ,CAAgB,SAACC,IAAD,CAAOC,KAAP,qBACf,YAEE,OAAO,CAAE,yBAAMlB,mBAAkB,CAACkB,KAAD,CAAxB,EAFX,CAGE,SAAS,WAAKrB,MAAM,CAACsB,cAAZ,iCACJL,cAAc,GAAKI,KAAnB,CAA2BrB,MAAM,CAACuB,MAAlC,CAA2C,EADvC,CAHX,wBAME,YAAK,SAAS,CAAEvB,MAAM,CAACwB,MAAvB,UAAgCJ,IAAI,CAACK,QAAL,CAAcD,MAA9C,EANF,cAOE,qBAAMJ,IAAI,CAACK,QAAL,CAAcC,KAApB,EAPF,aACUN,IADV,aACkBC,KADlB,EADe,EAAhB,CADH,EADF,EADF,CAiBD,C,wBAvCsBtB,KAAK,CAAC4B,a,EA0C/B,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,QAAY,CAClCZ,cAAc,CAAEY,KAAK,CAACb,UAAN,CAAiBC,cADC,CAElCD,UAAU,CAAEa,KAAK,CAACb,UAAN,CAAiBA,UAFK,CAAZ,EAAxB,CAKA,GAAMc,mBAAkB,CAAG,CAAE3B,kBAAkB,CAAlBA,kBAAF,CAAsBD,WAAW,CAAXA,WAAtB,CAA3B,CAEA,cAAeD,QAAO,CAAC2B,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CvB,UAA7C,CAAf"},"metadata":{},"sourceType":"module"}